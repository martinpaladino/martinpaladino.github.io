---
title: "Unir bases de datos con join"
author: 
- Martín Paladino^[mpaladino@mora.edu.mx]
date: "25 de febrero de 2017"
output: 
  html_document: 
    highlight: textmate
    number_sections: yes
    theme: journal
    toc: yes
---

#Bonus: joins con dplyr::

Para resolver el problema que teníamos `inner_join()` era la mejor opción, sin embargo dplyr:: incluye una familia de funciones join que aplican a casos diferentes. 

Table: Funciones de empate de bases de datos de `dplyr::`


Función          | Regresa:
-----------------|---------------------------------------------------------------------
inner_join (x,y) | Todas las columnas de x y y. Solamente las filas de en las que la clave de x y y coincide. Elimina las filas que nos tienen coincidencia. 
full_join(x,y)   | Todas las filas de x y y. Cuando hay coincidencia las empata, cuando no rellena con NA.
left_join        | Las filas de x y solamente las columnas de x. Rellena faltantes con NA. 
semi_join        | Regresa solamente las columnas y filas de x cuando hay coincidencia con y. 
anti_join        | Regresa las columnas de y las filas de x que no coinciden con y.


```{r}
#Para evitar empates perfectos y ver las diferencias vamos a eliminar las 10 primeras filas de tabla_regiones

tabla_regiones2 <- tabla_regiones [11:32,]

# 10,664 filas que coinciden en x y y, 23 columnas (x+y)
inner_join (base_marginacion, tabla_regiones2, by="CVE_ENT")

#14,641 filas de x o ý 23 columnas (21 de x, 3 de y - 1 que coincide)
full_join (base_marginacion, tabla_regiones2, by="CVE_ENT")

#14,664 filas de, 23 columnas de x y y.  
left_join (base_marginacion, tabla_regiones2, by="CVE_ENT") 

#10,664 filas de x y y, sólo las 21 colunmas de x.
semi_join (base_marginacion, tabla_regiones2, by="CVE_ENT") 

#3,977 filas en x y no en y, columnas de y. 
anti_join (base_marginacion, tabla_regiones2, by="CVE_ENT") 
```

